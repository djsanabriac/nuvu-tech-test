<div class="container fadeIn fast">
  <h1 class="mt-5">{{ client.name }} {{ client.last_name }}</h1>
  <p class="lead">{{ client.id_type.abbreviation + ' ' + client.id_number }}</p>
  <p class="lead">{{ client.email }} | {{ client.phone_number }}</p>

  <h2>Tarjetas ( {{ cards.length }} ) </h2>
  <button class="btn btn-success" type="submit" data-bs-toggle="modal" data-bs-target="#exampleModal">Crear</button>
  <div style="height: 25px"></div>

    <a *ngFor="let c of cards " class="list-group-item list-group-item-action" aria-current="true">
      <div class="d-flex w-100 justify-content-between">
        <h5 class="mb-1">{{ c.card_number }} {{ c.payment_network.name }}</h5>
      </div>
      <p class="mb-1">{{c.card_holder_name }}  | Expira:  {{ c.expiration_date | date: 'MM/yy' }}</p>
      <p class="mb-1">{{ c.state == 'A' ? 'Activa' : 'Inactiva' }} | CVV: {{ c.cvv }}</p>
    </a>

  <div class="list-group"></div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Crear usuario</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="showSuccess=false; showModalError= false"></button>
      </div>
      <div class="alert alert-danger" role="alert" *ngIf="showModalError">
        {{errorModalMessage}}
      </div>
      <div class="alert alert-success" role="alert" *ngIf="showSuccess">
        {{sucessModalMessage}}
      </div>
      <div class="modal-body">
        <form [formGroup]="cardForm" ngNativeValidate>

          <label for="name" class="visually-hidden">Nombre(s)</label>
          <input id="name" formControlName="name" class="form-control" placeholder="Nombre(s)" required >

          <div style="height: 25px" ></div>
          <label for="last_name" class="visually-hidden">Apellidos</label>
          <input id="last_name" formControlName="last_name" class="form-control" placeholder="Apellidos" required >
          <div style="height: 25px" ></div>


          <!--<label for="id_type" class="visually-hidden">Tipo de documento</label>
          <select id="id_type" class="form-select" formControlName="id_type" aria-label="Tipo de documento" required>
            <option *ngFor="let idt of idTypes " [ngValue]="idt"> ( {{ idt.abbreviation }} ) {{ idt.description }} </option>
          </select>-->
          <div style="height: 25px" ></div>

          <label for="id_number" class="visually-hidden">Número de documento</label>
          <input id="id_number" formControlName="id_number" class="form-control" placeholder="Número de documento" required >
          <div style="height: 25px" ></div>
          <label for="email" class="visually-hidden">Dirección de correo</label>
          <input id="email" formControlName="email" class="form-control" placeholder="Dirección de correo" required >
          <div style="height: 25px" ></div>
          <label for="phone_number" class="visually-hidden">Número de teléfono/celular</label>
          <input id="phone_number" formControlName="phone_number" class="form-control" placeholder="Número de teléfono/celular" required >
          <div style="height: 25px" ></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-secondary" >Limpiar</button>
            <button type="submit" class="btn btn-success"  [disabled]="!cardForm.valid">Crear</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
